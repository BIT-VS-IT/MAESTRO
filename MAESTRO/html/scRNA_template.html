<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link href="http://cistrome.org/~dsun/MAESTRO/css/bootstrap4.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css">
    <title>MAESTRO</title>
</head>

<body>
    <nav class="navbar navbar-dark fixed-top navbar-expand-lg flex-md-nowrap p-0" style="background-color:#1E284A">
        <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="https://github.com/chenfeiwang/MAESTRO">MAESTRO</a>
        <div class="container-fluid" style="padding-top:5px; padding-bottom:5px">
            <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex">
                <li class="nav-item active">
                    <a class="nav-link nav-a" href="" style="font-size: 1rem">scRNA-seq module</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link nav-a" href="#" style="font-size: 1rem">scATAC-seq module</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link nav-a" href="#" style="font-size: 1rem">Integration module</a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="container-fluid" style="margin-top: 90px;margin-bottom: 90px">
        <div class="card text-left" style="margin-right: 30px; margin-left: 30px">
            <div class="row" style="margin-right: 0px; margin-left: 0px">
                <div class="col-2" style="background-color: rgba(0, 0, 0, 0.03); border-right: 1px solid rgba(0, 0, 0, 0.125)">
                    <ul class="nav nav-pills flex-column" aria-orientation="vertical" style="padding-top: 20px; padding-bottom: 20px">
                        <li class="nav-item">
                            <a class="nav-link active" data-toggle="pill" href="#sample" style="font-size: 1rem" aria-selected="true">Sample Information</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="pill" href="#QC" style="font-size: 1rem">Quality Control</a>
                            <ul>
                                <li class="nav-item">
                                    <a class="nav-link" href="#bulk" style="padding-top: 0.25rem;padding-bottom: 0.25rem;padding-left: 0.25rem;padding-right: 0.25rem;">Bulk level</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#single" style="padding-top: 0.25rem;padding-bottom: 0.25rem;padding-left: 0.25rem;padding-right: 0.25rem;">Single-cell level</a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="pill" href="#clustering" style="font-size: 1rem">Cell Clustering</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="pill" href="#annotation" style="font-size: 1rem">Annotation</a>
                            <ul>
                                <li>
                                    <a class="nav-link" href="#celltype" style="padding-top: 0.25rem;padding-bottom: 0.25rem;padding-left: 0.25rem;padding-right: 0.25rem;">Celltype annotation</a>
                                </li>
                                <li>
                                    <a class="nav-link" href="#regulator" style="padding-top: 0.25rem;padding-bottom: 0.25rem;padding-left: 0.25rem;padding-right: 0.25rem;">Regulator annotation</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <div class="col-10">
                    <div class="card-body">
                        <div class="tab-content">
                            <div class="container-fluid tab-pane fade show active" id="sample">
                                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3">
                                    <h1 class="h2" id="sample">Sample Information</h1>
                                </div>
                                <table class="table" style="font-size: 15px">
                                    <tbody>
                                        <tr>
                                            <th scope="row">Sample ID</th>
                                            <td>%(outprefix)s</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">FASTQ Path</th>
                                            <td>%(fastqdir)s</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Species</th>
                                            <td>%(species)s</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Platform</th>
                                            <td>%(platform)s</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="container-fluid tab-pane fade" id="QC">
                                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                                    <h1 class="h2">Quality Control</h1>
                                </div>
                                <div class="row">
                                    <div class="container-fluid">
                                        <h2 class="h3" id="bulk">Bulk level</h2>
                                        <div class="row">
                                            <div class="col-6">
                                                <h3 class="h5">Mappability</h3>
                                                <br>
                                                <table class="table table-bordered table-striped" style="font-size: 15px">
                                                    <tbody>
                                                        <tr>
                                                            <th scope="row">Total reads</th>
                                                            <td>%(totalreads)s</td>
                                                        </tr>
                                                        <tr>
                                                            <th scope="row">Duplicate reads</th>
                                                            <td>%(dupreads)s</td>
                                                        </tr>
                                                        <tr>
                                                            <th scope="row">Mapped reads</th>
                                                            <td>%(mapreads)s</td>
                                                        </tr>
                                                        <tr>
                                                            <th scope="row">Mapped tags</th>
                                                            <td>%(maptags)s</td>
                                                        </tr>
                                                        <tr>
                                                            <th scope="row">Exon tags</th>
                                                            <td>%(exontags)s</td>
                                                        </tr>
                                                        <tr>
                                                            <th scope="row">Intron tags</th>
                                                            <td>%(introntags)s</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="col-6">
                                                <h3 class="h5">Gene body coverage</h3>
                                                <a href=%(genecov)s><img src=%(genecov)s width="400" height="400" class="float-left"></a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="container-fluid">
                                        <h2 class="h3" id="single">Single-cell level</h2>
                                        <div class="row">
                                            <div class="col-6">
                                                <h3 class="h5">Cell filtering based on counts and covered genes</h3>
                                                <a href=%(countgene)s><img src=%(countgene)s width="400" height="400" class="float-left"></a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="container-fluid tab-pane fade" id="clustering">
                                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                                    <h1 class="h2" id="clustering">Cell Clustering</h1>
                                </div>
                                <div class="row">
                                    <div class="container-fluid">
                                        <div class="row">
                                            <div class="col-6">
                                                <h3 class="h5">Cell clustering based on gene expression</h3>
                                                <a href=%(genecluster)s><img src=%(genecluster)s width="500" height="400" class="float-left"></a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="container-fluid tab-pane fade" id="annotation">
                                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                                    <h1 class="h2">Annotation</h1>
                                </div>
                                <div class="row">
                                    <div class="container-fluid">
                                        <h2 class="h3" id="celltype">Celltype annotation</h2>
                                        <div class="row">
                                            <div class="col-6">
                                                <h3 class="h5">Celltype annotation based on DE genes</h3>
                                                <a href=%(geneannotate)s><img src=%(geneannotate)s width="600" height="400" class="float-left"></a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row" style="padding-top: 15px">
                                </div>
                                <div class="row">
                                    <div class="container-fluid">
                                        <h2 class="h3" id="regulator">Regulator annotation</h2>
                                        <div class="row">
                                            <div class="col">
                                                <h3 class="h5">Cluster-specific regulator identified by Rabit</h3>
                                                <table class="table table-striped table-bordered" id="myTable">
                                                    <thead class="thead">
                                                        <tr>
                                                            <th scope="col" style="vertical-align: middle">Cluster</th>
                                                            <th scope="col" style="vertical-align: middle">Celltype Annotation</th>
                                                            <th scope="col" style="vertical-align: middle">Transcription Factor</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody style="font-size: 0.9rem">
%(regtable)s
                                                    </tbody>
                                                    <tfoot class="tfoot">
                                                        <tr>
                                                            <th scope="col" style="vertical-align: middle;">Cluster</th>
                                                            <th scope="col" style="vertical-align: middle;">Celltype Annotation</th>
                                                            <th scope="col" style="vertical-align: middle;">Transcription Factor</th>
                                                        </tr>
                                                    </tfoot>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <nav class="navbar flex-md-nowrap fixed-bottom navbar-dark" style="background-color:#1E284A">
        <a href="http://liulab.dfci.harvard.edu/" class="navbar-brand" style="background-color: rgba(0, 0, 0, 0);height: 46px; width: 58px; padding-top: 0px;padding-bottom: 0px;margin-right: 0px">
            <img src="http://liulab.dfci.harvard.edu/WEBSITE/images/Global/logofinal.png" height="46" width="58">
        </a>
        <span class="navbar-text" style="font-size: 13px">Copyright @2019 Liu lab</span>
    </nav>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script>
    window.jQuery || document.write('<script src="/docs/4.3/assets/js/vendor/jquery-slim.min.js"><\/script>')
    </script>
    <script src="/docs/4.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-xrRywqdh3PHs8keKZN+8zzc5TX0GRTLCcmivcbNJWm2rs5C8PRhcEn3czEjhAO9o" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.9.0/feather.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script type="text/javascript">
    $(document).ready(function() {
        $('#myTable').DataTable({
            initComplete: function() {
                var api = this.api();
                api.columns([0, 1]).indexes().flatten().each(function(i) {
                    var column = api.column(i);
                    var select = $('<select><option value=""></option></select>')
                        .appendTo($(column.footer()).empty())
                        .on('change', function() {
                            var val = $.fn.dataTable.util.escapeRegex(
                                $(this).val()
                            );
                            column
                                .search(val ? '^' + val + '$' : '', true, false)
                                .draw();
                        });
                    column.data().unique().sort().each(function(d, j) {
                        select.append('<option value="' + d + '">' + d + '</option>');
                    });
                });
            }
        });
    });
    </script>
    <script type="text/javascript">
    $(document).ready(function() {
        $('.js-example-basic-single').select2({
            theme: "bootstrap"
        });
    });
    </script>
</body>

</html>